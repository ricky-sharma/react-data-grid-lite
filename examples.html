<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Data Grid Lite</title>
    <style>
      body {
        color: black;
      }
    </style>
  </head>
  <body>
    <h1 id="ðŸ“¡-example-consuming-remote-api-data">
      ðŸ“¡ Example: Consuming Remote API Data
    </h1>
    <p>
      This example shows how to fetch and display data from a remote API using
      <code>react-data-grid-lite</code>. It demonstrates how to:
    </p>
    <ul>
      <li>Dynamically build column definitions from API response keys.</li>
      <li>Transform and format certain columns (e.g. combining names).</li>
      <li>Exclude or hide sensitive or unnecessary fields.</li>
      <li>Render the data in a performant, paginated grid with actions.</li>
    </ul>
    <h3 id="ðŸ”—-api-used">ðŸ”— API Used</h3>
    <p>
      <strong><a href="https://fakerapi.it">fakerapi.it</a></strong> â€“ Returns
      fake user data for testing:
    </p>
    <pre><code>GET https://fakerapi.it/api/v1/users?_quantity=1000
</code></pre>
    <h3 id="ðŸ§©-dynamic-column-mapping">ðŸ§© Dynamic Column Mapping</h3>
    <p>
      Column definitions are generated by inspecting API response keys and
      applying logic to:
    </p>
    <ul>
      <li>
        <strong>Rename</strong> columns (e.g. <code>firstname</code> â†’
        <code>Name</code>)
      </li>
      <li>
        <strong>Combine</strong> fields (e.g. <code>firstname + lastname</code>)
      </li>
      <li>
        <strong>Hide</strong> sensitive or redundant columns (e.g.
        <code>password</code>, <code>macaddress</code>)
      </li>
    </ul>
    <p>
      This approach is flexible and adapts to schema changes without hardcoding
      each field.
    </p>
    <h4 id="ðŸš€-code">ðŸš€ Code</h4>
    <pre><code class="language-jsx">import React, { useEffect, useState } from &#39;react&#39;;
import DataGrid, { trackPromise } from &#39;react-data-grid-lite&#39;;

const options = {
    editButton: {
        event: (e, row) =&gt; {
            alert(&#39;Edit Button clicked!&#39;);
            console.log(row);
        }
    },
    deleteButton: {
        event: (e, row) =&gt; {
            alert(&#39;Delete Button clicked!&#39;);
            console.log(row);
        }
    }
}

function App() {
    const [users, setUsers] = useState([]);
    const [userColumns, setUserColumns] = useState({});
    useEffect(() =&gt; {
        const promise = fetch(&#39;https://fakerapi.it/api/v1/users?_quantity=1000&#39;)
            .then(response =&gt; response.json())
            .then(data =&gt; {
                const Columns = Object.keys(data.data[0])
                setUserColumns(Columns.map((val) =&gt; {
                    if (val.toLowerCase() === &#39;id&#39;)
                        return {
                            name: val,
                            alias: &#39;ID&#39;,
                            width: &#39;100px&#39;
                        }
                    else if (val.toLowerCase() === &#39;uuid&#39;)
                        return {
                            name: val,
                            alias: &#39;UUID&#39;
                        }
                    else if (val.toLowerCase() === &#39;email&#39;)
                        return {
                            name: val,
                            alias: &#39;Email&#39;,
                        }
                    else if (val.toLowerCase() === &#39;website&#39;)
                        return {
                            name: val,
                            alias: &#39;Website&#39;,
                        }
                    else if (val.toLowerCase() === &#39;firstname&#39;)
                        return {
                            name: val,
                            alias: &#39;Name&#39;,
                            concatColumns: {
                                columns: [&#39;firstname&#39;, &#39;lastname&#39;]
                            }
                        }
                    else
                        return {
                            name: val,
                            hidden: true
                        }
                }));
                setUsers(data.data);
            })
            .catch(error =&gt; {
                console.error(&#39;Error fetching data:&#39;, error);
            });
        trackPromise(promise);
    }, []);

    return (
        &lt;&gt;
            &lt;div style={{ display: &#39;flex&#39;, justifyContent: &#39;center&#39; }}&gt;
                &lt;h2&gt;React Data Grid Lite Example&lt;/h2&gt;
            &lt;/div&gt;
            &lt;DataGrid
                columns={userColumns}
                data={users}
                pageSize={20}
                options={options}
                width={&quot;1200px&quot;}
            /&gt;
        &lt;/&gt;
    )
}

export default App
</code></pre>
    <hr />
  </body>
</html>
